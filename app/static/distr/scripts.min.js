function index(){nav(),list()}function template(e){var t=document.getElementById("content");reset(t),t.classList.add(e)}function nav(){var e=get("nav"),t=document.createElement("ul");t.setAttribute("class","nav"),e.appendChild(t),getJson("nav.json").then(function(e){for(var t in e)console.log(t)})}function list(){var e=document.getElementById("content"),t=document.createElement("ul");template("index"),t.setAttribute("id","coollist"),e.appendChild(t),getJson("/index.json").then(function(n){for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];for(var r in a){var s=a[r],i=document.createElement("li");i.setAttribute("class","item");var d=document.createElement("a"),l=document.createTextNode(s.title);d.appendChild(l),d.title=s.title,d.href=s.path,i.appendChild(d),t.appendChild(i),e.setAttribute("class","enter")}}})}function node(e){var t=e.params.id;template("partial");var n=document.getElementById("content");getJson(t+".json").then(function(e){n.setAttribute("class","enter"),n.innerHTML=e.body})}function reset(e){e.innerHTML="",e.className=""}function getJson(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.addEventListener("progress",updateProgress),o.open("get",e,!0),o.responseType="json",o.onload=function(){var e=o.status;200==e?t(o.response):n(e)},o.send()})}function updateProgress(e){if(e.lengthComputable){var t=e.loaded/e.total;console.log(t)}}function get(e){return document.getElementById(e)}page("/",index),page("/:id",node),page();